# 작업 내역 - 2026-02-09 18:01

## 이번 작업: Phase 4 — 사이드바/탭바 마케팅 실무 하위 메뉴 구조 구현

### 문제
- 사이드바/모바일탭바에서 "마케팅 실무" 클릭 시 `/marketing` (레거시 4개 모듈 페이지)로 이동
- 예비 마케터 학교(`/marketing/hub`)와 연결이 끊겨 있었음

### 해결

#### 사이드바 (데스크탑) — 서브메뉴 토글 구조
```
├── 홈
├── 디지털 기초
├── 마케팅 실무        ← 클릭하면 하위 메뉴 펼침/접힘
│   ├── 📚 예비 마케터 학교  → /marketing/hub
│   └── 💼 Pro 도구        → /marketing/pro
├── 취업 역량
```
- NavItem에 `children` 속성 추가
- 하위 메뉴 클릭 시 인증/등록 체크 분기 (미로그인 → /congrats)
- `/marketing/*` 경로에서 자동으로 서브메뉴 펼쳐짐
- 사이드바 축소 상태에서는 아이콘 클릭 → `/marketing/hub` 바로 이동

#### 모바일 탭바 — 인증/등록 분기
- "마케팅 실무" 클릭 시 인증/등록 상태에 따라 `/marketing/hub` 또는 `/congrats`로 분기

#### 레거시 리다이렉트
- `/marketing` URL → `/marketing/hub`로 자동 리다이렉트
- `MarketingLandingPage` import 제거

---

## 수정된 파일

| 파일 | 변경 내용 |
|------|-----------|
| `src/components/common/Sidebar.tsx` | NavItem에 children 추가, 마케팅 서브메뉴 토글, 인증/등록 분기, isChildActive |
| `src/components/common/MobileTabBar.tsx` | marketing → `/marketing/hub` + 인증/등록 분기 로직 |
| `src/App.tsx` | `/marketing` 라우트 → `Navigate to="/marketing/hub"` 리다이렉트 |
| `public/locales/ko/common.json` | `sidebar.marketingSchool`, `sidebar.marketingPro` 키 추가 |

---

## 완료된 전체 작업 (누적)

| Phase | 작업 | 상태 |
|-------|------|------|
| Pre | i18n 최적화 (ko+en만 유지) | ✅ |
| Phase 0 | 회원가입 수정 (AuthContext, authErrors, RegisterForm) | ✅ |
| Phase 1 | 라우팅 수정 (이전 세션 완료) | ✅ |
| Phase 2 | K-마케터 적성 테스트 (15문항, 5 페르소나) | ✅ |
| Phase 3 | Market Compass (MarketScanner + EdgeMaker) | ✅ |
| **Phase 4** | **사이드바/탭바 마케팅 실무 하위 메뉴 구조** | ✅ |

---

## 미완료 / 보류

### 향후 구현 대상 (4~6교시 도구)
- **4교시 - Viral Card Maker**: 바이럴 콘텐츠 카드 생성 도구 (Coming Soon)
- **5교시 - Perfect Planner**: 마케팅 계획 수립 도구 (Coming Soon)
- **6교시 - ROAS Simulator**: 광고 수익률 시뮬레이션 졸업과제 (기본 구현 존재)

### 기타
- 영어 번역 동기화 (en/common.json에 신규 키 미반영)
- Supabase 트리거 SQL 수동 적용 필요

---

## 빌드 검증
- `npx tsc -b` → 타입 체크 통과 (에러 없음)
